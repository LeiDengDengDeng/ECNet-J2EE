<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>上传证据 | 法官工作空间</title>


    <link rel="stylesheet" th:href="@{css/bootstrap.css}"/>
    <link rel="stylesheet" th:href="@{css/font-awesome.css}"/>
    <link rel="stylesheet" th:href="@{css/style.css}"/>
    <link rel="stylesheet" th:href="@{css/custom.css}"/>
    <link rel="apple-touch-icon-precomposed" th:href="@{img/icon.png}">
    <link rel="shortcut icon" th:href="@{img/favicon.ico}">
    <script th:src="@{js/ref/jquery-2.1.4.min.js}"></script>
    <script th:src="@{js/ref/jquerysession.js}"></script>


    <![endif]-->
    <!--[if lt IE 9]>
    <script>window.location.href='upgrade-browser.html';</script>
    <![endif]-->
</head>

<body class="user-select">
<section class="container-fluid">
    <div class="row">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">切换导航</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                    <a class="navbar-brand" href="/">法官工作空间</a> </div>
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{user}} <span class="caret"></span></a>
                            <ul class="dropdown-menu dropdown-menu-left">
                                <li><a title="查看或修改个人信息" data-toggle="modal" data-target="#seeUserInfo">个人信息</a></li>
                            </ul>
                        </li>
                        <li><a id='exist_click'>退出登录</a></li>
                    </ul>
                    <form action="" method="post" class="navbar-form navbar-right" role="search">
                        <div class="input-group">
                            <input type="text" class="form-control" autocomplete="off" placeholder="键入关键字搜索" maxlength="15">
                            <span class="input-group-btn">
                            <button class="btn btn-default" type="submit">搜索</button>
                            </span> </div>
                    </form>
                </div>
            </div>
            <ol class="breadcrumb" style="font-size: 19px">
                <li>
                    <a class="active" href="evidence_upload.html">质证与采证</a>
                </li>
                <li>
                    <a href="picture.html">证据链建模</a>
                </li>
                    <li >
                    <a href="law.html">说理与法条推荐</a>
                </li>
                <li >
                    <strong>  <a href="text.html">文书展示</a></strong>>
                </li>

            </ol>
        </nav>
    </div>


    <div class="row" style="padding-top: 7% ;padding-left: 2%;padding-right: 3%">


        <div class="col-md-5">
            <h4 style="color:black">证据段</h4>
            <br>
            <div class="text-center m-t-md">

                <!--<textarea id="mystr" class="form-control" rows="5"></textarea>-->
                <p style="color: black" class="pull-left">原、被告于2003年8月2日登记结婚，2012年1月6日生育女儿王某2。从
                    2015年3月开始，原告发现被告经常在网上通过QQ及微信与从事卖淫工作的女人聊天
                    ，并通过电话联系等方式到卖淫女居住的地址进行嫖娼。2015年3月23日，被告自认意
                    识到错误，向原告写下保证书。但被告写下保证书后，非但不改恶习，甚至变本加厉。
                    原告认为双方夫妻感情已经破裂，无和好的可能，故于2015年8月向上海市普陀区人民
                    法院起诉要求离婚，该院于2015年12月判决不准离婚。判决后，原、被告感情并未改善
                    ，故原告再次诉至法院。</p>
                <br>
                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="myHead()">提取链头</button>-->

                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="mySplit()" >分解证据</button> <span></span>-->

                <div class="btn-toolbar operation pull-right" role="toolbar">
                    <!--<div class="btn-group" role="group">-->
                        <!--<a class="btn btn-default" onClick="mySplit()">分解证据</a>-->
                        <!--<a class="btn btn-default" onClick="myHead()">提取链头</a>-->
                        <!--</div>-->
                    <div class="btn-group" role="group">
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">编辑</button>

                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">导出</button>
                    </div>
                </div>

                <div id="after">


                    <br>


                </div>
            </div>

        </div>

<div class="col-md-1"></div>
        <div class="col-md-5">
            <h4 style="color:black">事实段</h4>
            <br>
            <div class="text-center m-t-md">

                <!--<textarea id="mystr" class="form-control" rows="5"></textarea>-->
                <p style="color: black" class="pull-left">本院经审理认定事实如下：1、原、被告于2001年左右经人介绍相识，于2003年8月
                    2日登记结婚，2012年1月6日生育女儿王某2。2、2015年3月，因原告发现被告有嫖娼行
                    为导致双方产生矛盾，原告于2015年8月诉至上海市普陀区人民法院要求离婚，该院于
                    2015年12月8日判决不准离婚。判决后，原告认为双方关系并未改善，故再次诉至法院
                    。</p>
                <br>
                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="myHead()">提取链头</button>-->

                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="mySplit()" >分解证据</button> <span></span>-->

                <div class="btn-toolbar operation pull-right" role="toolbar">
                    <!--<div class="btn-group" role="group">-->
                    <!--<a class="btn btn-default" onClick="mySplit()">分解证据</a>-->
                    <!--<a class="btn btn-default" onClick="myHead()">提取链头</a>-->
                    <!--</div>-->
                    <div class="btn-group" role="group">
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">编辑</button>
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">导出</button>

                    </div>
                </div>

                <div id="after">


                    <br>


                </div>
            </div>

        </div>

    </div>

<br>
    <hr>

    <div class="row" style="padding-left:2% ">
        <div class="col-md-11">
            <h2 class="text-center" style="color:black">裁判文书</h2>
            <br>
            <div class="text-center m-t-md">

                <!--<textarea id="mystr" class="form-control" rows="5"></textarea>-->
                <p style="color: black" class="pull-left">
                    原告：范某某，女，1980年11月12日生，汉族，户籍所在地上海市松江区，现住松
                    江区。
                    　　委托诉讼代理人：林文强，上海卓勤律师事务所律师。
                    　　被告：王1，男，1973年2月21日生，汉族，户籍所在地上海市普陀区，现住上海市
                    松江区。
                    　　原告范某某与被告王1离婚纠纷一案，上海市普陀区人民法院于2016年10月11日立
                    案受理后，于2016年12月8日将案件移送至本院，本院于2017年1月4日立案后，依法适用
                    简易程序，于2017年2月8日公开开庭进行了审理。原告范某某及其委托诉讼代理人林文
                    强、被告王1到庭参加诉讼。本案现已审理终结。
                    　　原告范某某向本院提出诉讼请求：1、判决准予原告与被告离婚；2、判决原、被告
                    共同生育的女儿王某2由原告抚养，被告于法院判决离婚后每月支付给原告2,000元作为
                    女儿王某2的抚养费支付至女儿18周岁止；3、判决依法分割夫妻共同财产(上海市松江
                    区西新桥路XXX弄XXX号XXX室房屋归原告所有，上海市普陀区雪松路XXX弄XXX号
                    XXX室房屋归被告所有)。
                    　　事实与理由：原、被告于2003年8月2日登记结婚，2012年1月6日生育女儿王某2。从
                    2015年3月开始，原告发现被告经常在网上通过QQ及微信与从事卖淫工作的女人聊天
                    ，并通过电话联系等方式到卖淫女居住的地址进行嫖娼。2015年3月23日，被告自认意
                    识到错误，向原告写下保证书。但被告写下保证书后，非但不改恶习，甚至变本加厉。
                    原告认为双方夫妻感情已经破裂，无和好的可能，故于2015年8月向上海市普陀区人民
                    法院起诉要求离婚，该院于2015年12月判决不准离婚。判决后，原、被告感情并未改善
                    ，故原告再次诉至法院。
                    　　被告王1辩称：不同意离婚，原、被告之间的感情还是有的。被告虽然之前有过嫖
                    娼行为，但之后已经改正了，普陀法院判决不准离婚后被告也积极采取措施，一心想要
                    挽回婚姻。
                    　　本院经审理认定事实如下：1、原、被告于2001年左右经人介绍相识，于2003年8月
                    2日登记结婚，2012年1月6日生育女儿王某2。2、2015年3月，因原告发现被告有嫖娼行
                    为导致双方产生矛盾，原告于2015年8月诉至上海市普陀区人民法院要求离婚，该院于
                    2015年12月8日判决不准离婚。判决后，原告认为双方关系并未改善，故再次诉至法院
                    。
                    　　以上事实，由结婚证、出生医学证明、民事判决书、民事起诉状、证据材料清单、
                    庭审笔录、当事人陈述等证据证实，本院予以确认。
                    　　本院认为：夫妻感情是否破裂是判定是否准予夫妻离婚的标准。原、被告自由恋爱
                    、登记结婚至今，已共同生活十余年，且已共同生育一个女儿。婚后，虽因被告的过错
                    导致双方发生矛盾，影响了夫妻感情，但并未导致夫妻感情完全破裂。鉴于被告不同意
                    离婚，一心想要维持家庭完整，愿与原告和好，若原、被告能把夫妻感情及家庭责任放
                    在首位，相互沟通，相互理解、相互珍惜，夫妻感情还有望改善，故原告要求离婚的诉
                    讼请求本院不予支持。据此，依照《中华人民共和国婚姻法》第三十二条之规定，判决
                    如下：
                    　　原告范某某要求与被告王1离婚的诉讼请求不予支持。
                    　　案件受理费200元，减半收取计100元，由原告范某某负担(已付)。
                    　　如不服本判决，可在判决书送达之日起十五日内，向本院递交上诉状，并按对方当
                    事人的人数提出副本，上诉于上海市第一中级人民法院。</p>
                <br>
                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="myHead()">提取链头</button>-->

                <!--<button  class="col-md-2 btn-success btn-sm btn pull-right" onclick="mySplit()" >分解证据</button> <span></span>-->

                <div class="btn-toolbar operation pull-right" role="toolbar">
                    <!--<div class="btn-group" role="group">-->
                    <!--<a class="btn btn-default" onClick="mySplit()">分解证据</a>-->
                    <!--<a class="btn btn-default" onClick="myHead()">提取链头</a>-->
                    <!--</div>-->
                    <div class="btn-group" role="group">
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">编辑</button>
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="" name="checkbox_delete" onclick="myDelete()">导出</button>

                    </div>
                </div>

                <div id="after">


                    <br>


                </div>
            </div>

        </div>

    </div>

</section>
<!--个人信息模态框-->
<div class="modal fade" id="seeUserInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <form action="" method="post">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" >个人信息</h4>
                </div>
                <div class="modal-body">
                    <table class="table" style="margin-bottom:0px;">
                        <thead>
                        <tr> </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td wdith="20%">姓名:</td>
                            <td width="80%"><input type="text" value="王雨" class="form-control" name="truename" maxlength="10" autocomplete="off" /></td>
                        </tr>
                        <tr>
                            <td wdith="20%">用户名:</td>
                            <td width="80%"><input type="text" value="admin" class="form-control" name="username" maxlength="10" autocomplete="off" /></td>
                        </tr>
                        <tr>
                            <td wdith="20%">电话:</td>
                            <td width="80%"><input type="text" value="18538078281" class="form-control" name="usertel" maxlength="13" autocomplete="off" /></td>
                        </tr>
                        <tr>
                            <td wdith="20%">旧密码:</td>
                            <td width="80%"><input type="password" class="form-control" name="old_password" maxlength="18" autocomplete="off" /></td>
                        </tr>
                        <tr>
                            <td wdith="20%">新密码:</td>
                            <td width="80%"><input type="password" class="form-control" name="password" maxlength="18" autocomplete="off" /></td>
                        </tr>
                        <tr>
                            <td wdith="20%">确认密码:</td>
                            <td width="80%"><input type="password" class="form-control" name="new_password" maxlength="18" autocomplete="off" /></td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr></tr>
                        </tfoot>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    <button type="submit" class="btn btn-primary">提交</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!--提示模态框-->
<div class="modal fade user-select" id="areDeveloping" tabindex="-1" role="dialog" aria-labelledby="areDevelopingModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="areDevelopingModalLabel" style="cursor:default;">该功能正在日以继夜的开发中…</h4>
            </div>
            <div class="modal-body"> <img src="public/img/baoman/baoman_01.gif" alt="深思熟虑" />
                <p style="padding:15px 15px 15px 100px; position:absolute; top:15px; cursor:default;">很抱歉，程序猿正在日以继夜的开发此功能，本程序将会在以后的版本中持续完善！</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">朕已阅</button>
            </div>
        </div>
    </div>
</div>
<script src="public/js/bootstrap.min.js"></script>
<script src="public/js/admin-scripts.js"></script>
<script>
    //是否确认删除
    var dat_restore = []
    var dat_type = ''
    var dat_page = {
        'finished':1,
        'processing':1,
        'raw':1,
        'all':1
    }
    const num_p_page = 10
    $(function(){
        $("#main table tbody tr td a").click(function(){
            var name = $(this);
            var id = name.attr("rel"); //对应id
            if (event.srcElement.outerText == "删除")
            {
                if(window.confirm("此操作不可逆，是否确认？"))
                {
                    $.ajax({
                        type: "POST",
                        url: "/Article/delete",
                        data: "id=" + id,
                        cache: false, //不缓存此页面
                        success: function (data) {
                            window.location.reload();
                        }
                    });
                };
            };
        });
        $('#finished-tag').click(function () {
            $(".type_switch").removeClass('active')
            $("#finish_li").addClass('active')
            getCase('finished',dat_page['finished'])

        })
        $('#all-tag').click(function () {
            $(".type_switch").removeClass('active')
            $("#all_li").addClass('active')
            getCase('all',dat_page['all'])

        })
        $('#processing-tag').click(function () {
            $(".type_switch").removeClass('active')
            $("#processing_li").addClass('active')
            getCase('processing',dat_page['processing'])
        })
        $('#raw-tag').click(function () {
            $(".type_switch").removeClass('active')
            $("#raw_li").addClass('active')
            getCase('raw',dat_page['raw'])
        })
        $('#exist_click').click(function () {
            if(confirm('是否确认退出？'))
            {
                $.ajax({
                    url:'/logout',
                    type:'GET',
                    success:function () {
                        window.location.href = '/login'
                    }
                })
            }
        })

        function refresh_table (page) {
            let tr_html = ''
            const case_num = dat_restore.length
            let count = num_p_page

            let data_page = dat_restore.slice(num_p_page*(page-1),num_p_page*page)

            for (let item in data_page){
                let html = ` <tr>
                                <td>${data_page[item].id}</td>
                                <td>${data_page[item].caseId}</td>
                                <td class="article-title">${data_page[item].caseTitle}</td>
                                <td>${data_page[item].caseDate.split(' ')[0]}</td>
                                <td>${data_page[item].manageJudge}</td>
                                <td>
                                        <a href="/index.html?${data_page[item].id}" id="ecm${data_page[item].id}"  class="ecm_link" style="margin-right: 10px"> <i class="fa fa-link"></i>证据链   </a>
                                        <a href="/logic.html?${data_page[item].id}"  id="logic${data_page[item].id}" class="logic_link" style="margin-right: 10px"> <i class="fa fa-code-fork"></i>文书说理   </a>
                                        <a id="${data_page[item].id}" style="margin-right: 10px"> <i class="fa fa-indent"></i>说理语段   </a>
                                </td>
                            </tr>`
                tr_html = tr_html + html
                if (count == 0)
                    break;
                count = count-1

            }

            $('#caseTable').html(tr_html)

            let page_label_Html = '<li class="active"><a aria-label="Previous"> <span aria-hidden="true" id = "pre_page">&laquo;</span> </a> </li>\n'
            let page_num = Math.floor(case_num/num_p_page)+1
            if (page_num<5){
                for (let i =1;i<=page_num;i++){
                    if (i == page){
                        page_label_Html += `<li class="active"><a class="choosePage">${i}</a></li>`
                    }else {
                        page_label_Html += `<li class="disabled"><a class="choosePage">${i}</a></li>`
                    }
                }
            }else{
                for (let i =1;i<=4;i++){
                    if (i==4 && page!=4)
                    {
                        break;
                    }
                    if (i == page){
                        page_label_Html += `<li class="active"><a class="choosePage">${i}</a></li>`
                    }else {
                        page_label_Html += `<li class="disabled"><a class="choosePage">${i}</a></li>`
                    }
                }
                page_label_Html += `<li>...</li>`
                if (page>4){
                    page_label_Html += `<li class="active"><a class="choosePage">${page}</a></li>`
                }
                if(page<page_num){
                    page_label_Html +=`<li>...</li>`
                    page_label_Html += `<li class="disabled"><a class="choosePage">${page_num}</a></li>`
                }

            }
            page_label_Html = page_label_Html + '<li class="active"><a aria-label="Next"> <span aria-hidden="true" id = "next_page">&raquo;</span> </a> </li>'
            $("#page-switch").html(page_label_Html)
            $(".choosePage").click(function () {
                console.log($(this).html())
                const page = $(this).html()
                dat_page[dat_type] = page
                getCase(dat_type,page)

            })
            $("#pre_page").click(function () {
                if (  dat_page[dat_type] == 1){
                    return
                }else
                {
                    dat_page[dat_type] = parseInt(dat_page[dat_type])-1
                    getCase(dat_type,dat_page[dat_type])
                }

            })
            $("#next_page").click(function () {
                if (  dat_page[dat_type] == page_num){
                    return
                }else
                {
                    dat_page[dat_type] = parseInt(dat_page[dat_type])+1
                    getCase(dat_type,  dat_page[dat_type])
                }

            })
        }
        function getCase(type,page) {
            if(dat_type == type)
            {
                refresh_table(page)
            }else {
                $.ajax({
                    url:'/case/'+type,
                    type:'POST',
                    success:function (data) {
                        dat_restore = data
                        dat_type = type
                        refresh_table(page)
                    }
                })
            }
        }
        getCase('raw',1)
        $('#raw_li').addClass('active')
    });
</script>


<script>







</script>
</body>
</html>
